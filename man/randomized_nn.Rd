% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/randomized_nn.R
\name{randomized_nn}
\alias{randomized_nn}
\title{The Wrapper Function for All Observations That Performs Randomized Neighbor Extraction in the Presence of Repetition (which occurs with high probability for discrete data)}
\usage{
randomized_nn(X)
}
\arguments{
\item{X}{A vector, matrix, or data frame of observations}
}
\value{
A list including:
  - a list of the first two groups of neighbors (shuffled) for all observations,
  - and a matrix containing the first two neighbors of each observation.
}
\description{
This function finds the indices of the first two nearest neighbors for all observations in matrix X.
To handle duplicate distances (e.g., from repeated points), it groups neighbors based on their distance:
  - First group: all neighbors with the smallest non-zero distance (excluding the point itself if the distance is zero)
  - Second group: all neighbors with the next smallest distance
Both groups are randomly shuffled before selecting the first two overall neighbors.
}
\examples{
# Create a small example matrix with some repeated rows
set.seed(42)
X <- c(1, 1, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 5, 5)

# Run the randomized neighbor function
result <- randomized_nn(X)

# View the shuffled full neighbor groups for each observation
result$two_groups_of_neighbors

# View the matrix of the first two neighbors for each observation
result$two_neighbors
}
